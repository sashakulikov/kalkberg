<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">

  <meta name="author" content="">
  <link rel="icon" type="image/png" href="favicon.png">
  <title>Nocturnal Serenade</title>
  <html lang="en-GB">
</head>

<body>

 <video autoplay loop muted playsinline>
  <source src="nocturnal_frogs.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>

  <audio id="audioPlayer" controls>
    <source src="https://dl.dropbox.com/scl/fi/5trcqms4uyur5nr817psp/nocturnalserenade.mp3?rlkey=5wry4wtw9q2gf08oru3cjyy7r&st=bbk8ivpi" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <div class='header'>
    Nocturnal Serenade
    <br><a target="_blank" rel="noopener noreferrer" href="https://maps.app.goo.gl/eaZ2kZXRosPMD5mSA">Kalkberg, 21339 Lüneburg, DE</a>
  </div>

  <div class='lbutton playButton' onclick="playAudio()"> <!-- Add 'playButton' class to the play button and call the playAudio function when clicked -->
    Play
  </div>

  <div class='rbutton' onclick="toggleInfo()">
    Info
  </div>

  <div class='colophon'>
    Experience the enchantment of the Lüneburg’s Kalkberg from April till June… A pit with a pond which once was a rock. Here we• the croaking frogs• greet wonderers with our nocturnes… Like in fairytales• we transform the natural world into the magical realm… Amidst the ancient limestone formations• lush greenery• and bouquet of the lilac• we enamour you with our vibrations… As night descends• step into the infinitely channeled soundscape• where our chorus fills the air with a sonic adventure…
  </div>



  <div class='footer'>
    <div class='menu'>
      <span class="button playButton" onclick="playAudio()">Play</span>&ensp;
      <span class="button" onclick="toggleInfo()">Info</span>
    </div>
    <span class="activity">Now croaking</span> <br>
    <span class="date-time">Thu, May 2, 23:03</span>, <span class="temp">25°C</span><!-- Add this line for temperature display -->
  </div>

  <script>
  // JavaScript

  // Function to toggle the display of the colophon
  // Function to toggle the display of the colophon
  // Function to toggle the display of the colophon
  function toggleInfo() {
      var colophon = document.querySelector('.colophon');
      if (colophon.style.display === 'none' || colophon.style.display === '') {
          colophon.style.display = 'block'; // Show the colophon if it's hidden
      } else {
          colophon.style.display = 'none'; // Hide the colophon if it's visible
      }
  }


  // Function to play or pause the audio
  function playAudio() {
      var audio = document.getElementById('audioPlayer');
      if (audio.paused) {
          audio.play();
          document.querySelectorAll('.playButton').forEach(button => button.textContent = 'Stop');
      } else {
          audio.pause();
          document.querySelectorAll('.playButton').forEach(button => button.textContent = 'Play');
      }
  }

  // Function to update the date and time
  function updateTime() {
      var now = new Date();
      var options = {
          timeZone: 'Europe/Berlin',
          weekday: 'short',
          month: 'short',
          day: 'numeric',
          hour: 'numeric',
          minute: 'numeric',
          hour12: false,
          formatMatcher: 'best fit'
      };
      var dateString = new Intl.DateTimeFormat('en-DE', options).format(now);
      // Replace commas with bullet symbols after weekdays and months
      dateString = dateString.replace(/(Sun|Mon|Tue|Thu),/g, '$1•');
      dateString = dateString.replace(/(Jan|Mar|Apr|May|Jun|Nov|Dec),/g, '$1•');

      // Remove "at" from the date string
       dateString = dateString.replace(/\sat\s/g, ' '); // Remove "at" surrounded by spaces

      var dateTimeElement = document.querySelector('.footer .date-time');
      if (dateTimeElement) {
          dateTimeElement.textContent = dateString;
      } else {
          console.error('Date/time element not found');
      }
  }

  // Call updateTime function initially and every second to continuously update the date and time
  updateTime();
  setInterval(updateTime, 1000);

  // Call updateTemperature function initially and then every 5 minutes to fetch and display the temperature
  updateTemperature();
  setInterval(updateTemperature, 5 * 60 * 1000);


  </script>

</body>

</html>
